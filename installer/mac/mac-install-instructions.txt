#Open a terminal window on your MAC 
#type to following 

echo 'export TMPDIR=/private/tmp' >> ~/.bash_profile  
echo 'set TMPDIR=/private/tmp' >> ~/.tcshrc

xcode-select --install
# click install
# click agree

# go to xquartz.org, download and install latest XQuartz dmg

# reboot (yes, really)

# go to https://www.continuum.io/downloads and download and install the Python 3.x version (Anaconda distribution) into your Applications folder (currently Python 3.6) (NOTE: you do NOT need to enter your email on the website)

# open a new terminal window and type the following; enter your password when prompted
sudo conda install mpi4py

# go to http://neuron.yale.edu/ftp/neuron/versions/alpha, download and install the most recent version of NEURON into your Applications folder (currently nrn-7.5.master-1688.x86_64-osx.pkg) -- NOTE: be sure to say "YES" to both prompts about modifying paths

#change directories to your hard drives Applications folders  - you may need to type cd ../../Applications
#verify that anaconda, NEURON-7.5 and openmpi-2.1.X are in the Applications folder you are in by typing 
ls 
# if you don't see the above folders you are not in the right directory, change directories to hard drive Applications

# to make sure all of the correct paths are followed type the following set of commands to 
# set the environment variables; note that depending on your shell (bash or c shell) you will
# use the 4 export commands below or the 4 set commands below, respectively

 # if you are using the bash shell:
 export PYTHONPATH=/Applications/NEURON-7.5/nrn/lib/python
 export PATH=/Applications/NEURON-7.5/nrn/x86_64/bin:$PATH
 export PYTHONHOME="/Applications/anaconda"
 export NRN_PYLIB="/Applications/anaconda/bin/../lib//libpython3.6m.dylib"

 # if you are using the c shell (tcsh):
 set PYTHONPATH=/Applications/NEURON-7.5/nrn/lib/python
 set PATH=/Applications/NEURON-7.5/nrn/x86_64/bin:$PATH
 set PYTHONHOME="/Applications/anaconda"
 set NRN_PYLIB="/Applications/anaconda/bin/../lib//libpython3.6m.dylib"

# next type the following to clone HNN's github repository (contains model/gui source-code)
git clone https://github.com/jonescompneurolab/hnn.git


# the following command will "compile" HNN's biophysical model
cd hnn
make


# at this point you can run hnn by typing the command 
python hnn.py hnn.cfg
